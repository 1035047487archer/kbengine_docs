<html>

<head>
<title>KBEngine - Keywords</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td align=left style="background:#708090"> <font size=15 color=#ffffff> KBEngine </font></td></tr>
</table> <hr>

<h1>关键词释义</h1>
<br></br>

<a name="Mailbox"></a><p class="function_definition">
<span class="function_definition">Mailbox:</span>
</p>

<div class="function_description">
<br><br>
脚本层与实体远程交互（RPC）的唯一手段。<br>
Mailbox对象在C++底层实现非常简单，它只包含了实体的ID、目的地的地址、实体类型、Mailbox类型。当用户请求一次远程交互时，底层首先能够通过实体类型找到实体定义的描述，<br>
通过实体定义的描述对用户输入的数据进行检查，如果检查合法那么底层将数据打包并发往目的地，目的地进程根据协议进行解包最终调用到脚本层。<br><br>

注意: Mailbox只能调用其对应def文件中声明过的方法，不能访问实体的属性以及其他任何信息。

<br><br>
一个实体最多可以包含三个部分：<br>
client： 当实体包括客户端部分时(通常为玩家)，在服务端可以访问实体的client(Mailbox)属性。<br>
base：当实体的一部分创建在Baseapp时，在非Baseapp中可以访问实体的base(Mailbox)属性。<br>
cell：当实体的一部分创建在Cellapp时，在非Cellapp中可以访问实体的cell(Mailbox)属性。<br>
<br>
举例:<br><br>
Avatar.def中定义client远程方法:
<pre>
	&lt;ClientMethods&gt;
		&lt;hello&gt;
		&lt;/hello&gt;
	&lt;/ClientMethods&gt;
</pre>

<br><br>
client\Avatar.py
<pre>
	class Avatar:
		def hello(self):
			print("hello")
</pre>
<br><br>
用GUIConsole在服务端找到Avatar的实体或者Mailbox:<br>
avatar.client.hello()<br>
<br>
此时客户端log文件中将输出"hello", 一次远程调用过程完成。
</div>



<a name="KBE_ROOT"></a><p class="function_definition">
<span class="function_definition">KBE_ROOT:</span>
</p>

<div class="function_description">
<br><br>
这是一个KBEngine的环境变量，描述的是KBEngine所在的根目录。
</div>



<a name="KBE_RES_PATH"></a><p class="function_definition">
<span class="function_definition">KBE_RES_PATH:</span>
</p>

<div class="function_description">
<br><br>
这是一个KBEngine的环境变量，描述的是KBEngine引擎能够读取到的资源目录。
</div>



<a name="KBE_HYBRID_PATH"></a><p class="function_definition">
<span class="function_definition">KBE_HYBRID_PATH:</span>
</p>

<div class="function_description">
<br><br>
这是一个KBEngine的环境变量，描述的是KBEngine引擎可执行文件所在的目录。
</div>



<a name="entities.xml"></a><p class="function_definition">
<span class="function_definition">entities.xml:</span>
</p>

<div class="function_description">
<br><br>
服务端所有有效的实体类型必须在此进行注册，引擎初始化时会根据此处依次加载实体的描述信息。
</div>



<a name="kbengine_defs.xml"></a><p class="function_definition">
<span class="function_definition">kbengine_defs.xml:</span>
</p>

<div class="function_description">
<br><br>
服务端默认配置，在此用户可以修改<a href=cellapp/index.html>cellapp</a>、<a href=baseapp/index.html>baseapp</a>、loginapp等所有的组件配置。
<br>
注意：你可能经常需要对引擎进行升级，直接修改此处可能在升级时产生冲突，另外也不适合多个项目放在同一KBEngine环境的情况。
<br>
建议在<a href=#kbengine.xml>kbengine.xml</a>中进行重载修改，你只需要对想修改的部分按照格式在xml中重写就可以了。
</div>



<a name="kbengine.xml"></a><p class="function_definition">
<span class="function_definition">kbengine.xml:</span>
</p>

<div class="function_description">
<br><br>
服务端配置，在此用户可以修改<a href=cellapp/index.html>cellapp</a>、<a href=baseapp/index.html>baseapp</a>、loginapp等所有的组件配置。<br><br>
详细请参考<a href=#kbengine_defs.xml>kbengine_defs.xml</a>
</div>



<a name="cn_entity"></a><p class="function_definition">
<span class="function_definition">实体</span>
</p>

<div class="function_description">
<br><br>
实体被定义为服务端最基本的对象，类似Python的基础对象object。<br>
什么时候需要定义实体? 请参见<a href=http://www.kbengine.org/docs/programming/entitydef.html>http://www.kbengine.org/docs/programming/entitydef.html</a>
</div>

<a name="entity"></a><p class="function_definition">
<span class="function_definition">entity</span>
</p>

<div class="function_description">
<br><br>
参见: <a href=#cn_entity>实体</a>
</div>



<a name="AOI"></a><p class="function_definition">
<span class="function_definition">AOI</span>
</p>

<div class="function_description">
<br><br>
area of interest。<br>
服务端将客户端感兴趣的区域中发生的所有事件同步给客户端。<br>
事件包括: 实体移动、客户端广播类型的属性改变、死亡销毁等等。
</div>



<a name="Witness"></a><p class="function_definition">
<span class="function_definition">Witness</span>
</p>

<div class="function_description">
<br><br>
目击者。<br>
只有绑定了Witness的<a href=#cell>cell</a>实体AOI才能产生作用，换句话来说witness就是客户端的一个<a href=#cell>cell</a>代理。<br>
服务端一个NPC被目击者目击时会调用实体的onWitness回调，服务端可以依赖于此特性降低CPU的消耗，当一个实体<br>
没有被目击时，用户可以停止它的任何行为。<br>
</div>


<a name="Space"></a><p class="function_definition">
<span class="function_definition">Space</span>
</p>

<div class="function_description">
<br><br>
空间，KBEngine在cellapp上分配一个空间，这个空间与其他空间隔离，AOI、陷阱、实体碰撞等等只在当前空间相互影响。<br>
空间具体是什么由用户来定义，它可以是一个场景、副本、房间...
</div>


<a name="cn_Space"></a><p class="function_definition">
<span class="function_definition">空间</span>
</p>

<div class="function_description">
<br><br>
参见: <a href=#Space>Space</a>
</div>


<a name="cell"></a><p class="function_definition">
<span class="function_definition">cell</span>
</p>

<div class="function_description">
<br><br>
cell在文档中存在二个不同的意思。<br>
通常如果描述的是<a href=baseapp/classes/Base.html#cell>Base.cell</a>属性， 此时实际是在描述实体的<a href=#Mailbox>CellMailbox</a>。<br>

如果是在cellapp上有关cell的描述通常是在描述一个<a href=#cn_Space>空间</a>的一部分，一个空间在<a href=cellapp/index.html>cellapp</a>进行负载平衡时有可能被分割成N份，每一份称之为一个cell，每个cell由不同进程维护。<br>
</div>


<a name="cellapp"></a><p class="function_definition">
<span class="function_definition">cellapp</span>
</p>

<div class="function_description">
<br><br>
Cellapp进程主要负责与位置有关类游戏逻辑、AOI、AI、场景房间等等。<br>
参见: <a href=cellapp/index.html>cellapp</a>
</div>


<a name="baseapp"></a><p class="function_definition">
<span class="function_definition">baseapp</span>
</p>

<div class="function_description">
<br><br>
Baseapp进程主要负责与客户端通讯、与位置无关类游戏逻辑(公会管理器、聊天系统、游戏大厅、排行榜等等)、存档与备份等等。<br>
参见: <a href=baseapp/index.html>baseapp</a>
</div>


<br></br>
<br></br>
<br></br>
<br></br>
<hr></hr>

<hr>
<p class="copyrightFooter">版权归KBEngine所有。</p>
</body>
</html>